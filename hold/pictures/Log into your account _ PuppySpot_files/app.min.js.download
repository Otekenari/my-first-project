function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}ps.bolt=function(){var e={dataLayerEvent:null,token:ps.boltOrderToken,useBolt:ps.useBolt},t="Sorry, a technical error occurred. Please refresh the page and try again. If the problem persists, please contact a Puppy Concierge.";return e.refreshToken=function(n,r,o){if(ps.useBolt&&n){ajax().post("/api/core-proxy",{uri:"/api/order/invoice/bolt/order-token",payload:{token:n}}).then((function(n){n.api&&(n.api.errorDescription?(alert(t),o&&o(n)):n.api.orderToken&&(ps.boltOrderToken=n.api.orderToken,e.token=n.api.orderToken,e.init(e.dataLayerEvent),r&&r(n)))})).catch((function(e){alert(t),o&&o(e)}))}},e.getToken=function(t){ps.boltOrderToken=t.api.orderToken,e.init(e.dataLayerEvent)},e.init=function(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;t&&(e.dataLayerEvent=t,window.dataLayer.push(t));var i=!1,c={orderToken:ps.boltOrderToken},s={prefill:{}};s.prefill=n||{firstName:document.querySelector("form [name=firstName]").value,lastName:document.querySelector("form [name=lastName]").value,email:document.querySelector("form [name=emailAddress]").value,phone:document.querySelector("form [name=phoneNumber]").value,addressLine1:document.querySelector("form [name=address]").value,city:document.querySelector("form [name=city]").value,state:document.querySelector("form [name=state]").value,zip:document.querySelector("form [name=postalCode]").value,country:document.querySelector("form [name=country]").value};var l={check:function(){return!0},onCheckoutStart:function(){},onEmailEnter:function(){},onShippingDetailsComplete:function(){},onShippingOptionsComplete:function(){},onPaymentSubmit:function(){},success:function(e,t){i=!0,o&&o(e),t&&t()},close:function(){i?window.location.href=r:a&&a()}};BoltCheckout.configure(c,s,l)},e}(),ps.contact=function(){var e={},t=document.getElementById("contactForm"),n=function e(n){n.preventDefault(),ps.loader.show(),ps.prefill.storeFormValues(n.target),t.removeEventListener("submit",e,!1),t.submit()};return e.init=function(){var e=document.querySelector(".js-error-container"),r=window.location.hash;if(t.addEventListener("submit",n),r.length>0){var o=document.getElementById(r);o&&window.scrollTo(0,o.offset().top)}e&&ps.animate.show(".js-error-container")},e}(),ps.financePage=function(){var e={},t=null,n=null;function r(){var e=document.querySelector("#puppyId").value;ajax().post("/api/finance/".concat(e),ps.sendContact.formToJSON(t)).then((function(e){e.success&&e.financingOffered?(ps.datalayer.financingLead(ps.puppy_id,ps.breed_name),window.location.href="https://terracefinance.azurewebsites.net/onlineApplication/preApplication?source=1&identifier=2682"):e.success?function(){ps.datalayer.financingLead();var e=document.querySelector(".js-country-selector");document.querySelector(".no-financing-text").textContent="US"===e.value?"your state":"Canada",document.querySelector(".financing").classList.add("hidden"),document.querySelector(".js-no-finance-container").classList.remove("hidden"),document.body.scrollTop=0,document.documentElement.scrollTop=0}():(n.removeAttribute("disabled"),alert("Sorry, a technical error occurred. Please try again later."))}))}var o=function(e){e.preventDefault();var o=t;n.setAttribute("disabled","disabled"),ps.loader.show(),document.body.scrollTop=0,document.documentElement.scrollTop=0,ps.prefill.storeFormValues(e.target),ps.sendContact.makeRequest(ps.sendContact.formNames.FINANCING,o,(function(e){if(ps.loader.hide(),e.errors){for(var t=[],o=Object.keys(e.errors),a=0;a<o.length;a++){var i=o[a];t.push(e.errors[i]);var c=document.querySelector('.js-finance-form [name="'.concat(i,'"]'));c.classList.add("field-error"),c.title=e.errors[i]}alert("These fields require attention:\n\n".concat(t.join("\n"))),n.removeAttribute("disabled")}else ps.exactTarget.sendConversion(ps.etconfig),r()}))};return e.init=function(){t=document.querySelector(".js-finance-form"),n=document.querySelector(".js-finance-submit"),t&&t.addEventListener("submit",o)},e}(),ps.financePage.init(),ps.invoicePage=function(){var e={},t=Array.from(document.querySelectorAll(".js-checkout-submit")),n=document.getElementById("checkoutForm"),r=document.querySelector(".js-checkout-form"),o="Sorry, a technical error occurred. Please refresh the page and try again. If the problem persists, please contact a Puppy Concierge.",a=function(e){var t=document.querySelector(".loading");e?t.classList.remove("hidden"):t.classList.add("hidden")},i=function(e){var t;e.preventDefault(),l(),ps.prefill.storeFormValues(n),a(!0),document.querySelector(".puppy-checkout-page__bolt-salesflow").scrollIntoView(),t=document.querySelectorAll(".js-checkout-form .field-error"),Array.from(t).forEach((function(e){e.classList.remove("field-error")})),ps.sendContact.makeRequest(ps.sendContact.formNames.CHECKOUT,n,(function(e){if(a(!1),e.errors){for(var t=Object.keys(e.errors),r=[],o=0;o<t.length;o++){var i=t[o];r.push(e.errors[i]);var c=document.querySelector('.js-checkout-form [name="'.concat(i,'"]'));c.classList.add("field-error"),c.title=e.errors[i]}alert("These fields require attention:\n\n".concat(r.join("\n"))),s(),p()}else ps.boltOrderToken?(ps.bolt.init({invoiceType:"bolt"},null,"/purchase/".concat(ps.purchaseSummary.puppy.id,"/success/").concat(ps.purchaseSummary.orderId)),m()):(a(!0),ps.bolt.refreshToken(e.invoiceLinkToken,(function(){a(!1),m()}),(function(){a(!1),p()}))),f(ps.sendContact.formToJSON(n),e.customerId,e.puppyId),ps.invoiceLinkToken=e.invoiceLinkToken,ps.exactTarget.sendConversion(ps.etconfig),window.dataLayer=window.dataLayer||[],window.dataLayer.push({event:"bolt-invoice"}),s()}),(function(){a(!1),s(),alert(o)})),u()},c=function e(t){t.preventDefault(),a(!0),l(),ps.prefill.storeFormValues(n),n.removeEventListener("submit",e),n.submit()},s=function(){t.forEach((function(e){e.removeAttribute("disabled")}))},l=function(){t.forEach((function(e){e.setAttribute("disabled","disabled")}))},u=function(){var e=document.querySelector('input[name="firstName"]').value,t=document.querySelector('input[name="lastName"]').value,n=document.querySelector('input[name="address"]').value,r=document.querySelector('input[name="postalCode"]').value,o=document.querySelector('input[name="city"]').value,a=document.querySelector(".js-country-selector").value,i=document.querySelector(".js-state-selector").value;return'\n            <p class="puppy-checkout-page__bolt-confirmed-address">'.concat(e," ").concat(t,'</p>\n            <p class="puppy-checkout-page__bolt-confirmed-address">').concat(n,'</p>\n            <p class="puppy-checkout-page__bolt-confirmed-address">').concat(r,", ").concat(a,'</p>\n            <p class="puppy-checkout-page__bolt-confirmed-address">').concat(o,", ").concat(i,"</p>")},d=function(){var e=document.querySelector(".js-confirmed-address-container");ps.animate.hide(r),ps.animate.show(e),ps.animate.show(document.querySelector(".js-edit-address-button")),e.innerHTML=u()},p=function(){var e=document.querySelector(".js-edit-address-button"),t=document.querySelector(".js-confirmed-address-container");ps.animate.hide(t),ps.animate.hide(e),ps.animate.show(r)},f=function(e,t,n){ajax({headers:{"content-type":"application/json"}}).post("/api/customer/".concat(t,"/puppy/").concat(n),{form:e}).then((function(e){e.api&&e.api.errorDescription&&(alert(o),p())}))},m=function(){ps.collapsiblePanel.accordionToggle(".puppy-checkout-page__bolt-fees .js-collapsible-panel-handle",".puppy-checkout-page__form .js-collapsible-panel-handle"),document.querySelector(".puppy-checkout-page__bolt-salesflow").scrollIntoView()};return e.init=function(){document.querySelector(".js-puppy-checkout-page")&&(!function(){var e=[];if(document.querySelector(".js-error-container")){ps.animate.hide(".js-error-container");var t=document.querySelectorAll("[data-error]");if(Array.from(t).length>0){for(var n=0;n<t.length;n++){var r=Array.from(t)[n].getAttribute("data-error");r.length>2&&e.push(r.replace("*",""))}e.length>0&&(window.alert("These fields require attention:\n\n".concat(e.join("\n"))),ps.animate.show(".js-error-container"))}}}(),document.getElementById("inv_zip").addEventListener("change",(function(){ajax().get("/api/core-proxy",{uri:"/api/consumer/content/location",payload:{postalCode:document.getElementById("inv_zip").value}}).then((function(e){if(e.api.location){var t=e.api.location;document.getElementById("inv_city").value=t.city,document.getElementById("inv_state").value=t.state,document.getElementById("inv_country").value=t.country}}))})),ps.useBolt?(document.querySelector(".js-confirm-bolt-address").addEventListener("click",d),document.querySelector(".js-edit-address-button").addEventListener("click",p),t.forEach((function(e){e.addEventListener("click",i)}))):t.forEach((function(e){e.addEventListener("click",c)})))},e}(),ps.invoicePage.init(),ps.banner=function(){var e=document.querySelector(".js-close-banner"),t=document.querySelector(".js-notice-banner"),n="notice-banner-name",r=ps.bannerNameCookie,o="is-notice-banner-closed",a=ps.cookie.getCookie(n),i=function(){ps.animate.hide(t)},c=function(){ps.animate.show(t)},s=function(){var e;i(),ps.cookie.setCookie(o,!0,10),e=r,ps.cookie.setCookie(n,e,10)};return ps.bannerIsShowing&&(r===a?ps.cookie.getCookie(o)?i():c():(c(),ps.cookie.setCookie(o,!1,10)),e.addEventListener("click",s)),null}(),ps.breedCollections=void new Swiper(".js-breed-collections",{slidesPerView:"auto",centerInsufficientSlides:!0,grabCursor:!0,watchOverflow:!0,scrollbar:{el:".swiper-scrollbar",hide:!0}}),ps.breedLocations=function(){var e={init:function(){if(Math.max(document.documentElement.clientWidth||0,window.innerWidth||0)<768){var e=document.querySelectorAll(".breed-states__items .js-collapsible-panel-handle");Array.from(e).forEach((function(e,t){t&&ps.collapsiblePanel.close(e)}))}}};return e}(),document.addEventListener("DOMContentLoaded",ps.breedLocations.init),ps.calloutTabs=function(){var e=function(e){var r=e.target;"true"===r.getAttribute("data-is-open")?t(r,"false"):(n(r),t(r,"true"))},t=function(e,t){e.setAttribute("data-is-open",t)},n=function(e){Array.from(e.parentNode.querySelectorAll(".js-callout-label")).forEach((function(e){t(e,"false")}))};return document.querySelectorAll(".js-callout-tabs")&&Array.from(document.querySelectorAll(".js-callout-tabs")).forEach((function(t){!function(t){var n=t.querySelectorAll(".js-callout-label");Array.from(n).forEach((function(t){t.addEventListener("click",e)}))}(t)})),self}(),ps.cardSlider=function(){var e={init:function(){var e=document.querySelectorAll(".js-card-slider");Array.from(e).forEach((function(e){new Swiper(e,{mobileFirst:!0,pagination:{clickable:!0,el:e.parentNode.querySelector(".swiper-pagination"),type:"bullets"},navigation:{nextEl:e.parentNode.querySelector(".js-card-next"),prevEl:e.parentNode.querySelector(".js-card-prev")},breakpoints:{521:{slidesPerView:1,spaceBetween:20},767:{slidesPerView:2,spaceBetween:20},1023:{slidesPerView:3,spaceBetween:20},9999:{slidesPerView:4,spaceBetween:20}}})}))}};return e}(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",ps.cardSlider.init):ps.cardSlider.init(),ps.collapsiblePanel=function(){var e={},t=document.querySelectorAll(".js-collapsible-panel-handle:not([data-disabled])"),n=Array.from(document.querySelectorAll(".js-collapse-all-panels")),r=Array.from(document.querySelectorAll(".js-expand-all-panels")),o=Array.from(document.querySelectorAll(".js-back-to-top"));function a(e){var t=e.parentNode.querySelector(".js-collapsible-panel");ps.animate.toggleVisibility(t),e.classList.toggle("open")}e.open=function(e){var t=e.parentNode.querySelector(".js-collapsible-panel");ps.animate.show(t),e.classList.add("open")},e.close=function(e){var t=e.parentNode.querySelector(".js-collapsible-panel");ps.animate.hide(t),e.classList.remove("open")},e.accordionToggle=function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){var r=document.querySelectorAll(t);Array.from(r).forEach((function(t){e.open(t),t.hasAttribute("data-disabled")&&(t.removeAttribute("data-disabled"),t.addEventListener("click",(function(){a(t)})))}))}if(n){var o=document.querySelectorAll(n);Array.from(o).forEach((function(t){e.close(t)}))}};var i=function(e){e.preventDefault(),document.body.scrollTop=0,document.documentElement.scrollTop=0};return e.init=function(){var c;Array.from(t).forEach((function(e){e.addEventListener("click",(function(){a(e)}))})),o&&o.forEach((function(e){e.addEventListener("click",i)})),n&&r&&(n.forEach((function(t){t.addEventListener("click",(function(){e.accordionToggle(null,".js-collapsible-panel-handle.open:not([data-disabled])")}))})),r.forEach((function(t){t.addEventListener("click",(function(){e.accordionToggle(".js-collapsible-panel-handle:not(.open):not([data-disabled])")}))}))),c=document.querySelectorAll(".js-collapsible-panel-container"),Array.from(c).forEach((function(e){var t=e.querySelector(".js-collapsible-panel-tooltip");if(t){var n={animation:"fade",appendTo:t,arrow:!0,interactive:!0,placement:"top",preventOverflow:!1,theme:"dark",html:e.querySelector(".js-collapsible-panel-tooltip-content")};tippy.one(t,n)}}))},e}(),ps.collapsiblePanel.init(),ps.contactUs=function(){var e={},t=function(e){e.preventDefault(),ps.whiteModal.show(".js-contact-us-modal")};return e.init=function(){document.querySelector(".js-open-contact-us").addEventListener("click",t)},document.querySelector(".js-open-contact-us")&&e.init(),e}(),ps.displayTogger=function(){var e=document.querySelectorAll(".js-display-toggler");Array.from(e).forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var n=e.getAttribute("data-target");n&&ps.animate.toggleVisibility(n)}))}))}();var ps=ps||{};ps.emailPreferences=function(){var e={},t=document.querySelector(".js-unsubscribe-all"),n=document.querySelector(".js-subscribe-all"),r=Array.from(document.querySelectorAll(".js-email-preference-input")),o=function(){this.checked&&r.forEach((function(e){e.checked=!1})),n.checked=!1},a=function(){this.checked&&r.forEach((function(e){e.checked=!0})),t.checked=!1},i=function(){var e=Array.from(document.querySelectorAll(".js-email-preference-input:checked"));0===e.length?(t.checked=!0,n.checked=!1):e.length===r.length&&(n.checked=!0,t.checked=!1)};return e.init=function(){t&&(t.addEventListener("change",o),n.addEventListener("change",a),r.forEach((function(e){e.addEventListener("change",i)})))},e}(),ps.emailPreferences.init(),function(){var e=document.querySelectorAll(".js-expand-text");Array.from(e).forEach((function(e){var t=e.dataset.active||"up black",n=e.dataset.inactive||"down black",r=document.querySelector(e.getAttribute("data-target")),o=document.querySelector(".arrow.forward.large-link"),a=e;a.addEventListener("click",(function(){r.classList.toggle("hidden"),o&&o.classList.toggle("hidden"),r.classList.contains("hidden")?(a.textContent="Read more",a.classList.remove(t),a.classList.add(n)):(a.textContent="Collapse",a.classList.add(t),a.classList.remove(n))}))}))}(),ps.favorite=function(){var e={puppyHits:null},t="/api/favorite",n="favorite-puppies";e.favorites=ps.storage.getObject(n);var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e.dataset.puppy&&(e.dataset.reload?c(e.dataset.puppyName,(function(){o(e,!0)})):o(e,t))},o=function(t,n){var r=t.dataset.puppy,o=t.classList.contains("favorited")?"unfavoritePuppy":"favoritePuppy";e.toggleFavoriteButton(t),e[o](r,(function(){"favoritePuppy"===o?(e.showNotification(),n&&window.location.reload()):"unfavoritePuppy"===o&&t.dataset.reload&&window.location.reload()}),(function(){e.toggleFavoriteButton(t)}))},a=function(e){e.preventDefault(),ps.customer?r(e.target):i(e.target)},i=function(e){ps.authentication.modal((function(){return r(e,!0),e}),null,!1,null,e.dataset.puppy)},c=function(e,t){var n=document.querySelector(".js-white-modal.white-modal--confirm.modal-favorite");if(n){var r=n.querySelector(".js-puppy-name"),o=n.querySelector(".js-confirm");r.textContent=e||"this puppy",ps.whiteModal.show(n),o&&t&&(o=ps.utils.removeListeners(o)).addEventListener("click",(function(){ps.whiteModal.close(n),t()}))}},s=function(t){t.dataset.puppy&&e.favorites&&-1!==e.favorites.indexOf(parseInt(t.dataset.puppy,10))&&t.classList.add("favorited")};return e.mapListingsAsHits=function(e){return e.map((function(e){return{id:e.id,fields:{listingId:e.id,displayPuppyName:[e.name],breedAdLabel:[e.breed],puppyGender:[e.gender],ageInWeeks:e.ageInWeeks,photoUrl:[{Thumbnail:e.imageUrl}]}}}))},e.toggleFavoriteButton=function(e){e.classList.contains("favorited")?e.classList.remove("favorited"):e.classList.add("favorited")},e.showNotification=function(){var e=document.querySelector(".js-notification");ps.animate.show(e),ps.notification.init(),window.setTimeout((function(){ps.animate.hide(e)}),5e3)},e.favoritePuppy=function(r,o,a){ajax().post("".concat(t,"/").concat(r)).then((function(t){if(e.favorites){var a=e.favorites.indexOf(parseInt(r,10));e.favorites=-1===a?[].concat(_toConsumableArray(e.favorites),[parseInt(r,10)]):e.favorites}else e.favorites=[parseInt(r,10)];ps.storage.setObject(n,e.favorites),o&&o(t)})).catch((function(e){a&&a(e)}))},e.unfavoritePuppy=function(r,o,a){ajax().delete("".concat(t,"/").concat(r)).then((function(t){if(e.favorites){var a=e.favorites.indexOf(parseInt(r,10));-1!==a&&e.favorites.splice(a,1)}ps.storage.setObject(n,e.favorites),o&&o(t)})).catch((function(e){a&&a(e)}))},e.clear=function(){e.favorites=[],ps.storage.remove(n)},e.init=function(r){var o;if(r&&(e.puppyHits=r.hit),o=document.querySelectorAll(".js-favorite-puppy"),ps.customer||e.clear(),o&&Array.from(o).forEach((function(e){s(e),e.addEventListener("click",a)})),!ps.customer||e.favorites&&e.favorites.length||ajax().get(t).then((function(t){var r=document.querySelectorAll(".js-favorite-puppy");e.favorites=t.puppyIds,ps.storage.setObject(n,e.favorites),Array.from(r).forEach((function(e){s(e)}))})).catch((function(e){window.console.error(e)})),!ps.customer){var i=document.querySelectorAll(".js-favorite-puppy");Array.from(i).forEach((function(e){e.classList.contains("favorited")&&e.classList.remove("favorited")})),e.clear()}},e}(),document.querySelector(".favorite-puppies__list")&&ps.favorite.init(),ps.funnel=function(){var e={},t="FunnelSource",n="PuppyId",r=function(e){var r=e.target;r&&r.dataset.puppy&&r.dataset.funnel&&(ps.cookie.setCookie(t,r.dataset.funnel,90),ps.cookie.setCookie(n,r.dataset.puppy,90))};return e.clear=function(){ps.cookie.deleteCookie(t),ps.cookie.deleteCookie(n)},e.init=function(){var e;e=document.querySelectorAll(".js-funnel-cookie"),Array.from(e).forEach((function(e){e.addEventListener("click",r)}))},e}(),ps.funnel.init(),ps.header=function(){var e={},t=document.querySelectorAll("[data-submenu]"),n=function(){var e=document.querySelector(".js-header-searchbar");ps.animate.show(e),document.body.scrollTop=0,document.documentElement.scrollTop=0,setTimeout((function(){e.querySelector(".selectr-tag-input").focus()}),10)},r=function(){ps.animate.hide(".js-header-searchbar")},o=function(){ps.animate.hideAll(".js-menu"),ps.animate.hide(".js-header-close"),ps.animate.show(".js-hamburger"),i()},a=function(){document.querySelector(".js-header-searchbar").classList.contains("hidden")?n():r()},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=document.querySelectorAll("[data-toggle-menu]");Array.from(t).forEach((function(t){t!==e&&t.classList.remove("active")}))},c=function(e){var n=e.getAttribute("data-toggle-menu"),r=document.querySelector(n);r.classList.contains("hidden")&&(ps.animate.show(n),e.classList.add("active")),Array.from(t).forEach((function(e){e!==r&&e.classList.add("hidden")})),i(e)},s=function(){var e=document.querySelectorAll(".js-search");Array.from(e).forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault(),n()}))})),document.querySelector(".js-hamburger").addEventListener("click",(function(e){e.preventDefault(),ps.animate.show("[data-main-menu]"),ps.animate.hide("[data-submenu]"),ps.animate.show(".js-header-nav-menu"),ps.animate.show(".js-header-close"),ps.animate.hide(".js-hamburger"),r()})),document.querySelector(".js-header-close").addEventListener("click",(function(e){e.preventDefault(),o()})),document.querySelector(".js-header-searchbar__close").addEventListener("click",(function(e){e.preventDefault(),r()}));var s=document.querySelectorAll("[data-submenu-open]");Array.from(s).forEach((function(e){e.addEventListener("click",(function(e){var t,n;e.preventDefault(),t=e.target,n=t.getAttribute("data-submenu-open"),t.classList.add("active"),ps.animate.hide("[data-main-menu]"),ps.animate.hide("[data-desktop-main-menu]"),ps.animate.show(n),t.getAttribute("data-puppy-submenu")&&document.querySelector(".js-puppies-menu-button").classList.add("active")}))}));var l=document.querySelectorAll("[data-close-submenu]");Array.from(l).forEach((function(e){e.addEventListener("click",(function(e){var t,n;e.preventDefault(),t=e.target,n=t.getAttribute("data-close-submenu"),ps.animate.show("[data-main-menu]"),ps.animate.hide(n)}))}));var u=document.querySelectorAll("[data-toggle-menu]");Array.from(u).forEach((function(e){window.innerWidth>1023?e.addEventListener("mouseover",(function(e){e.preventDefault(),c(e.target)})):e.addEventListener("click",(function(e){e.preventDefault(),c(e.target)}))})),document.querySelector("body").addEventListener("mouseover",(function(e){document.querySelector(".header-nav").contains(e.target)||o()}));var d=document.querySelectorAll(".js-no-submenu");Array.from(d).forEach((function(e){e.addEventListener("mouseover",(function(e){e.preventDefault(),Array.from(t).forEach((function(e){i(),ps.animate.hide(e)}))}))}));var p=document.querySelector(".js-toggle-search");p&&p.addEventListener("click",a);var f=document.querySelector(".js-hide-small-menu");f&&f.addEventListener("click",(function(){ps.animate.hide(".js-header-nav-menu"),o(),n()}))};return e.init=function(){s()},e}(),ps.header.init(),ps.notification=function(){var e={},t=function(e){ps.animate.hide(e.path[2])};return e.init=function(){Array.from(document.querySelectorAll(".js-close-notification")).forEach((function(e){e.addEventListener("click",t)}))},e}(),ps.printReady=function(){var e=document.querySelector(".header-nav"),t=document.querySelector(".js-print-ready"),n=document.querySelector(".footer-nav");t&&(ps.animate.hide(e),n.style.display="none")}(),ps.readMore=function(){var e=document.querySelectorAll(".js-readmore-trigger");Array.from(e).forEach((function(e){var t=document.querySelector(".".concat(e.dataset.target));if(!window.matchMedia("(min-width: 768px)").matches&&0!==window.dfc("bem2Lv-FQ8awAZFfc8i8GQ")&&t.classList.contains("mobile-read-more-text-ellipsis")){var n=t.querySelector("p"),r=n.innerText.split(" ");t.classList.add("enabled"),n.innerHTML="".concat(r.slice(0,12).join(" "),' <span class="read-more-real-target hidden">').concat(r.slice(13,r.length).join(" "),"</span>"),t=n.querySelector(".read-more-real-target")}e.addEventListener("click",(function(e){var n=e.target.firstElementChild;!function(e,t){var n;ps.animate.toggleVisibility(e),"More"===(n=t).innerHTML?n.innerHTML="Less":"Less"===n.innerHTML&&(n.innerHTML="More")}(t,n)}))}))}(),ps.reviews=function(){var e={},t=document,n=document.querySelector(".js-reviews-component"),r=Array.from(document.querySelectorAll(".js-review")),o=Array.from(document.querySelectorAll(".js-indicator-dots")),a=Array.from(document.querySelectorAll(".js-review-control")),i=function(){var e=t.querySelector(".js-review.active");if(e){var n=e.id;o.forEach((function(e){e.dataset.index!==n&&e.classList.contains("active")?e.classList.remove("active"):e.dataset.index===n&&e.classList.add("active")}))}},c=function(e){"review-0"===e.id?(s(e,"review-1"),i()):"review-1"===e.id?(document.getElementById("review-2")?s(e,"review-2"):s(e,"review-0"),i()):"review-2"===e.id&&(s(e,"review-0"),i())},s=function(e,n){var r=(t=e.closest(".js-reviews-component")).querySelector("#".concat(n));e&&r&&(ps.animate.hide(e),e.classList.remove("active"),ps.animate.show(r),r.classList.add("active"))},l=function(e){var t,n=document.querySelector(".js-review.active");e.target.classList.contains("next")?c(n):e.target.classList.contains("prev")&&("review-0"===(t=n).id?(document.getElementById("review-2")?s(t,"review-2"):s(t,"review-1"),i()):"review-1"===t.id?(s(t,"review-0"),i()):"review-2"===t.id&&(s(t,"review-1"),i()))},u=function(){var e="ontouchstart"in window||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0?"touchstart":"click";r.length>1&&(r.forEach((function(t){t.addEventListener(e,(function(e){!function(e){var t=e.target;c(t)}(e)}),{passive:!0})})),a&&a.forEach((function(t){t.addEventListener(e,(function(e){l(e)}),{passive:!0})})))};return e.init=function(){var e=[];window.innerWidth<768?e=document.querySelectorAll(".js-reviews-component .js-review:first-of-type"):window.innerWidth<1023&&(e=document.querySelectorAll(".js-reviews-component .js-review")),e.length&&Array.from(e).forEach((function(e,t){e.classList.remove("hidden"),0===t&&e.classList.add("active")})),n&&window.innerWidth<768&&(u(),r.length>1&&i())},e}(),ps.reviews.init(),ps.searchBar=function(){var e={selectedTag:-1},t=function(e,t){var a=t.getValue(),c=e.querySelector(".selectr-tag-input"),s=c?c.value:"",l=new URL("".concat(window.location.origin,"/puppies-for-sale"));n(s)?r(l,a,s):a.length?i(l,a,s):o(l,a,s)},n=function(e){return e.match(/[0-9]{6}/)},r=function(e,t,n){var r="puppy_id:'".concat(n,"'");ps.cloudsearch.getPuppiesFromCloudsearch(1,1,r,"puppy_id asc",null,null,!1,(function(r){if(1===r.result.hits.found){var o=r.result.hits.hit[0].fields;window.location.href="/puppies-for-sale/breed/".concat(o.breedSlug[0],"/puppy/").concat(o.puppyId[0])}else i(e,t,n)}),(function(){i(e,t,n)}))},o=function(e,t,n){ps.cloudsearch.getBreedsFromCloudsearch(n,{fields:["tags"]},(function(t){a(t.result.hits.hit,e,n)}),(function(){i(e,t,n)}),10,"slug")},a=function(e,t,n){if(e.length){var r=e.map((function(e){return e.fields.slug[0]}));i(t,r,null)}else i(t,[],n)},i=function(e,t,n){n&&e.searchParams.append("search",n),t.length&&e.searchParams.append("breed_slug",t.join(",")),(n||t.length)&&(window.location.href=e.toString())},c=function(t,n,r,o){var a=n.querySelector(".selectr-tag-input"),i=Array.from(n.querySelectorAll(".selectr-tag")).concat(a||o);if(i.length>1){var c=-1===e.selectedTag?i.length:e.selectedTag;switch(t.key){case"ArrowLeft":c=Math.min(Math.max(c-1,0),i.length-1);break;case"ArrowRight":c=Math.min(Math.max(c+1,0),i.length-1);break;case"ArrowDown":a.blur()}i[c]&&(i[c].focus(),e.selectedTag=c)}},s=function(e){e.querySelector(".js-searchbar__submit").classList.add("searchbar__submit--active")},l=function(e){e.querySelector(".js-searchbar__submit").classList.remove("searchbar__submit--active")},u=function(e,t){var n=e.querySelector(".selectr-option.disabled"),r=10-parseInt(t,10);n&&(n.innerHTML="Add up to <b>".concat(r,"</b> breeds you're interested in to see available puppies."))},d=function(e){var t=e.querySelector(".selectr-tag-input");t&&(t.value="")},p=function(e){var t=e.querySelector(".selectr-tags");t&&(t.scrollLeft=t.scrollWidth-(t.offsetWidth+100))};return e.init=function(){var e=document.querySelectorAll(".js-searchbar__input");Array.from(e).forEach((function(e){var n=e.closest(".js-searchbar"),r=new Selectr(e,{clearable:!1,defaultSelected:!1,disabledMobile:!0,maxSelections:10,multiple:!0,nativeDropdown:!1,placeholder:"Search for Breeds",searchable:!0,taggable:!0,tagPlaceholder:"Search for Breeds",tagSeparators:[]});!function(e,n){var r=e.querySelector(".js-searchbar__submit"),o=e.querySelector(".selectr-tag-input");r&&r.addEventListener("click",(function(){t(e,n)})),o&&o.addEventListener("keydown",(function(r){"Enter"===r.key&&t(e,n)}))}(n,r),function(e,t){var n=e.querySelector(".selectr-container");n&&(document.addEventListener("click",(function(e){ps.utils.handleClickOutside(e,t,n)}),{passive:!0}),n.addEventListener("click",(function(){var t=e.querySelector(".selectr-tag-input");t&&t.focus()}),{passive:!0}))}(n,r),function(e,t){var n=e.querySelector(".selectr-container"),r=e.querySelector(".selectr-tag-input");n&&r&&r.addEventListener("focus",(function(){t.open(),n.classList.add("open"),u(e,t.getValue().length)}),{passive:!0})}(n,r),function(e,t,n){e.addEventListener("keydown",(function(r){c(r,e,t,n)}),{passive:!0})}(n,r,e),r.on("selectr.change",(function(){!function(e,t){var n=t.getValue();n.length?s(e):l(e),p(e),u(e,n.length),d(e)}(n,r)}))}))},e}(),ps.searchBar.init(),ps.showMore=function(){var e=document.querySelectorAll(".js-showmore-trigger");return Array.from(e).forEach((function(e){var t=document.querySelector(".".concat(e.dataset.target));e.addEventListener("click",(function(e){var n=e.target.firstElementChild;!function(e,t){var n;e.classList.toggle("expanded"),"More"===(n=t).innerHTML?n.innerHTML="Less":"Less"===n.innerHTML&&(n.innerHTML="More")}(t,n)}))})),{}}(),ps.tabs=function(){var e={selected:0},t=function(e,t){if(e&&t){var n=!e.classList.contains("tab--active");e.classList.toggle("tab--active"),e.ariaSelected=String(n),t.classList.toggle("hidden"),t.ariaHidden=String(!n)}},n=function(n){var r=n.currentTarget;if(Object.prototype.hasOwnProperty.call(r.dataset,"id")){var o=document.getElementById("tab-".concat(r.dataset.id));!function(){var n=document.getElementById("tab-button-".concat(e.selected)),r=document.getElementById("tab-".concat(e.selected));t(n,r)}(),t(r,o),e.selected=r.dataset.id}};return e.init=function(){var e=document.querySelectorAll(".js-tab");Array.from(e).forEach((function(e){e.addEventListener("click",n)}))},e}(),ps.tabs.init(),ps.breedCollections=void new Swiper(".js-tags",{slidesPerView:"auto",centerInsufficientSlides:!0,spaceBetween:10,grabCursor:!0,watchOverflow:!0,scrollbar:{el:".swiper-scrollbar",hide:!0}}),ps.whiteModal=function(){var e={callback:null},t=function(t){var n=t.target.closest(".js-white-modal");e.close(n)};return e.close=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=t||document.querySelector(".js-white-modal");n&&(ps.animate.hide(n),document.body.classList.remove("no-scroll"),e.callback&&e.callback())},e.show=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=t||document.querySelector(".js-white-modal");t&&r&&ps.animate.show(t.querySelector(".loading")),a&&(e.callback=n,ps.animate.show(a),e.autofocus(a),o&&window.scrollTo(0,0),document.body.classList.add("no-scroll"))},e.autofocus=function(e){var t=e.querySelector("input[autofocus]");t&&setTimeout((function(){t.focus()}),10)},e.toggle=function(){var t=document.querySelector(".js-white-modal");t.classList.contains("hidden")?(ps.animate.show(t),e.autofocus(t),document.body.classList.add("no-scroll")):(ps.animate.hide(t),document.body.classList.remove("no-scroll"))},e.init=function(){var n=document.querySelectorAll(".js-white-modal"),r=document.querySelectorAll(".js-close-modal"),o=document.querySelectorAll(".js-white-modal .js-cancel"),a=document.querySelectorAll(".js-white-modal-trigger");n&&Array.from(n).length&&(Array.from(r).forEach((function(e){e.addEventListener("click",t)})),Array.from(o).forEach((function(e){e.addEventListener("click",t)})),Array.from(a).forEach((function(t){var n=document.querySelector(t.dataset.target);n&&t.addEventListener("click",(function(t){t.preventDefault(),e.show(n)}))})))},e}(),ps.whiteModal.init(),ps.breedOverview=function(){var e={};return e.init=function(){new Swiper(".js-fun-facts",{slidesPerView:"auto",centerInsufficientSlides:!0,grabCursor:!0,watchOverflow:!0,scrollbar:{el:".swiper-scrollbar",hide:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpointsInverse:!0,breakpoints:{1440:{slidesPerView:3,spaceBetween:30,slidesPerGroup:1,loop:!0}}}),new Swiper(".js-similar-breeds",{slidesPerView:1,centerInsufficientSlides:!0,grabCursor:!0,watchOverflow:!0,scrollbar:{el:".swiper-scrollbar",hide:!0},navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{el:".swiper-pagination"}})},e}(),ps.breedOverview.init();
